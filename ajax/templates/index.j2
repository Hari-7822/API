<!-- index.html -->
<!DOCTYPE html>
<html>
<head>
    <title>Index</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
</head>
<body>
<div id="data-container"></div>

</body>
<script>
    $(document).ready(function() {
        function fetchData() {
            $.ajax({
                url: 'http://127.0.0.1:8000/demo/',
                method: 'GET',
                success: function(data) {
                    let results = data.results;
                    let html = '<ul>';
                    results.forEach(function(item) {
                        html += '<li> Name: ' + item.name + '</li>';
                    });
                    html += '</ul>';
                    $('#data-container').html(html);
                },
                error: function(error) {
                    
                    $('#data-container').html('Error: ' + error.statusText);
                }
            });
        }

        
        fetchData();
        setInterval(fetchData, 5000);
    });
</script>



